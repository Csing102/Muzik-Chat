<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMI SOUNDS - Music Player with Chat</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Sidebar Toggle for Mobile -->
    <button class="sidebar-toggle" id="sidebarToggle">‚ò∞</button>

    <div class="container">
        <div class="sidebar" id="sidebar">
            <div class="logo"><span>AMI SOUNDS</span></div>

            <div class="nav-item active" data-section="home">
                <span>üè†</span> <span class="nav-text">Home</span>
            </div>
            <div class="nav-item" data-section="library">
                <span>üéµ</span> <span class="nav-text">Library</span>
            </div>
            <div class="nav-item" data-section="upload">
                <span>‚¨ÜÔ∏è</span> <span class="nav-text">Upload</span>
            </div>
            <div class="nav-item" data-section="chat">
                <span>üí¨</span> <span class="nav-text">Chat</span>
            </div>
            <div class="nav-item" data-section="settings">
                <span>‚öôÔ∏è</span> <span class="nav-text">Settings</span>
            </div>
        </div>

        <div class="main-content">
            <div class="header">
                <h1 id="pageTitle">Welcome to AMI SOUNDS</h1>
                <div class="search-container">
                    <input type="text" class="search-bar" placeholder="Search music..." id="searchInput">
                    <button class="btn btn-secondary" onclick="toggleMiniPlayer()">üì±</button>
                </div>
                <div class="user-menu">
                    <button class="btn" id="loginBtn">Sign In</button>
                    <div id="userInfo" style="display: none; align-items: center; gap: 15px;">
                        <span id="userName">Welcome!</span>
                        <button class="btn btn-secondary" id="signOutBtn">Sign Out</button>
                    </div>
                </div>
            </div>

            <!-- Home Section -->
            <div class="section active" id="homeSection">
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-number" id="totalSongs">0</div>
                        <div>Total Songs</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalArtists">0</div>
                        <div>Artists</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="playTime">0h</div>
                        <div>Play Time</div>
                    </div>
                </div>

                <!-- Home Page Upload Drop Zone -->
                <div class="drop-zone" id="homeDropZone">
                    <h2>üéµ Upload Your Music & Videos</h2>
                    <p>Drag and drop your files here or click to browse</p>
                    <p style="margin-top: 10px; font-size: 14px; opacity: 0.7;">Supports: MP3, WAV, FLAC, OGG, M4A, MP4, AVI, MKV, WEBM</p>
                    <button class="btn" id="homeUploadBtn">
                        Choose Files
                    </button>
                    <input type="file" id="homeFileInput" multiple accept="audio/*,video/*" style="display: none;">
                    <div class="upload-progress-container" id="homeUploadProgressContainer">
                        <div class="upload-progress-bar" id="homeUploadProgressBar"></div>
                    </div>
                </div>

                <h2 style="margin: 30px 0 20px 0; background: var(--secondary-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Featured Music</h2>
                <div class="music-grid" id="musicGrid">
                    <!-- Music cards will be added here dynamically -->
                </div>
            </div>

            <!-- Library Section -->
            <div class="section" id="librarySection">
                <h2>Your Music Library</h2>
                <div class="track-list" id="trackList">
                    <!-- Tracks will be added here dynamically -->
                </div>
            </div>

            <!-- Upload Section -->
            <div class="section" id="uploadSection">
                <h2>Upload Music</h2>
                <!-- Dedicated Upload Page Drop Zone -->
                <div class="drop-zone" id="uploadPageDropZone">
                    <h2>üéµ Upload Your Music & Videos</h2>
                    <p>Drag and drop your files here or click to browse</p>
                    <p style="margin-top: 10px; font-size: 14px; opacity: 0.7;">Supports: MP3, WAV, FLAC, OGG, M4A, MP4, AVI, MKV, WEBM</p>
                    <button class="btn" id="uploadPageUploadBtn">
                        Choose Files
                    </button>
                    <input type="file" id="uploadPageFileInput" multiple accept="audio/*,video/*" style="display: none;">
                    <div class="upload-progress-container" id="uploadPageUploadProgressContainer">
                        <div class="upload-progress-bar" id="uploadPageUploadProgressBar"></div>
                    </div>
                </div>
            </div>

            <!-- Chat Section -->
            <div class="section" id="chatSection">
                <h2>Chat</h2>
                <!-- The chat app is a fixed element, doesn't need to be inside a section unless it's only visible ON the chat section page -->
                <!-- If you want the chat to be a floating element visible on any page, move the chat-app div outside of.main-content -->
                <!-- Assuming it's only shown on the chat page for now -->
                <div class="chat-container" style="height: calc(100vh - 200px); display: flex; flex-direction: column; background: var(--dark-bg); border-radius: 20px; backdrop-filter: blur(20px); border: 1px solid var(--border-color);">
                    <div class="chat-header" style="padding: 20px; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center;">
                        <h3>Global Chat</h3>
                        <!-- You might not need a close button here if it's a dedicated section -->
                    </div>
                    <div class="chat-messages" id="chatMessages" style="flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column;">
                        <!-- Messages will be added here dynamically -->
                        <div class="message ai">Welcome to the chat!</div>
                    </div>
                    <div class="chat-input-container" style="padding: 20px; border-top: 1px solid var(--border-color); display: flex; gap: 10px;">
                        <input type="text" class="chat-input" id="chatInput" placeholder="Type a message...">
                        <button class="btn" id="sendChatMessageBtn">Send</button>
                    </div>
                </div>
            </div>

            <!-- Settings Section -->
            <div class="section" id="settingsSection">
                <h2>Settings</h2>
                <div class="settings-panel">
                    <div class="setting-item">
                        <label for="notifications">Enable Notifications</label>
                        <input type="checkbox" id="notifications" checked>
                    </div>
                    <div class="setting-item">
                        <label for="darkMode">Dark Mode</label>
                        <input type="checkbox" id="darkMode">
                    </div>
                    <div class="setting-item">
                        <label for="audioQuality">Audio Quality</label>
                        <select id="audioQuality">
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <button class="close-btn" id="closeLoginModalBtn">√ó</button>
            <h2>Welcome to AMI SOUNDS</h2>
            <p>Sign in to access your music library and personalized features</p>
            <div class="auth-buttons">
                <button class="auth-btn google" id="signInWithGoogleBtn">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" width="20" height="20" alt="Google Logo">
                    Sign in with Google
                </button>
                <button class="auth-btn email" id="signInWithEmailBtn">
                    Sign in with Email
                </button>
            </div>
        </div>
    </div>

    <!-- Music Player -->
    <div class="player" id="player">
        <div class="player-content">
            <div class="player-info">
                <img src="https://via.placeholder.com/60" alt="Album Art" class="album-art">
                <div>
                    <div class="music-title" id="currentTrackTitle">Song Title</div>
                    <div class="music-artist" id="currentTrackArtist">Artist Name</div>
                </div>
            </div>
            <div class="player-controls">
                <button class="control-btn" id="prevTrackBtn">‚èÆ</button>
                <button class="control-btn play-btn" id="playBtn">‚ñ∂</button>
                <button class="control-btn" id="nextTrackBtn">‚è≠</button>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar">
                    <div class="progress" id="progress"></div>
                </div>
                <div class="time-display">
                    <span id="currentTime">0:00</span>
                    <span id="duration">0:00</span>
                </div>
            </div>
            <div class="volume-control">
                <button class="control-btn" id="volumeBtn">üîä</button>
                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="70">
            </div>
        </div>
    </div>

    <!-- Mini Player -->
    <div class="mini-player" id="miniPlayer">
        <div class="player-info">
            <img src="https://via.placeholder.com/50" alt="Album Art" class="album-art">
            <div>
                <div class="music-title" id="miniCurrentTrackTitle">Song Title</div>
                <div class="music-artist" id="miniCurrentTrackArtist">Artist Name</div>
            </div>
        </div>
        <div class="player-controls">
            <button class="control-btn" id="miniPrevTrackBtn">‚èÆ</button>
            <button class="control-btn play-btn" id="miniPlayBtn">‚ñ∂</button>
            <button class="control-btn" id="miniNextTrackBtn">‚è≠</button>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        Notification message
    </div>

    <script src="script.js"></script>
</body>
</html>